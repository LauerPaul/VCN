<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>DocStrap Source: store/chat.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.paper.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">DocStrap</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-@_store_chat-%25E2%25AD%2590Store-chat%25E2%2596%25B8state.html">@/store/chat~⭐Store-chat▸state</a></li><li><a href="module-@_store_site-%25E2%25AD%2590Store-site%25E2%2596%25B8state.html">@/store/site~⭐Store-site▸state</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-@_components_auth.html">@/components/auth</a></li><li><a href="module-@_components_balance_buyCredits-dropdown-widget.html">@/components/balance/buyCredits-dropdown-widget</a></li><li><a href="module-@_components_banners_banner-full-width.html">@/components/banners/banner-full-width</a></li><li><a href="module-@_components_banners_banner-mini-widget.html">@/components/banners/banner-mini-widget</a></li><li><a href="module-@_components_cases_case-1.html">@/components/cases/case-1</a></li><li><a href="module-@_components_cases_case-2.html">@/components/cases/case-2</a></li><li><a href="module-@_components_cases_case-3.html">@/components/cases/case-3</a></li><li><a href="module-@_components_chat_chat-footer.html">@/components/chat/chat-footer</a></li><li><a href="module-@_components_chat_chat-header.html">@/components/chat/chat-header</a></li><li><a href="module-@_components_chat_chat-messages.html">@/components/chat/chat-messages</a></li><li><a href="module-@_components_common_header-menu.html">@/components/common/header-menu</a></li><li><a href="module-@_components_common_header-search-line.html">@/components/common/header-search-line</a></li><li><a href="module-@_components_profile_profile-balance-widget.html">@/components/profile/profile-balance-widget</a></li><li><a href="module-@_components_profile_profile-gallery-widget.html">@/components/profile/profile-gallery-widget</a></li><li><a href="module-@_components_profile_profile-mini.html">@/components/profile/profile-mini</a></li><li><a href="module-@_components_profile_profile-notify-widget.html">@/components/profile/profile-notify-widget</a></li><li><a href="module-@_components_profile_profile-rating-widget.html">@/components/profile/profile-rating-widget</a></li><li><a href="module-@_components_profile_profile-support-widget.html">@/components/profile/profile-support-widget</a></li><li><a href="module-@_components_profile_profile-system-line-widget.html">@/components/profile/profile-system-line-widget</a></li><li><a href="module-@_components_users_users-addToList-widget.html">@/components/users/users-addToList-widget</a></li><li><a href="module-@_components_users_users-gallery-mini-widget.html">@/components/users/users-gallery-mini-widget</a></li><li><a href="module-@_layouts_default.html">@/layouts/default</a></li><li><a href="module-@_pages_index.html">@/pages/index</a></li><li><a href="module-@_pages_logout.html">@/pages/logout</a></li><li><a href="module-@_store_chat.html">@/store/chat</a></li><li><a href="module-@_store_site.html">@/store/site</a></li><li><a href="module-Plugin_log.html">Plugin_log</a></li><li><a href="module-Plugin_swiper.html">Plugin_swiper</a></li><li><a href="module-%25E2%25AD%2590Store.html">⭐Store</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="events.list.html" class="dropdown-toggle" data-toggle="dropdown">Events<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-@_components_auth.html#~event:COMPONENT%253Cstrong%253EAuth%253C/strong%253Ecomputed">@/components/auth~event:COMPONENT <strong>Auth</strong> computed</a></li><li><a href="module-@_components_auth.html#~event:COMPONENT%253Cstrong%253EAuth%253C/strong%253Emounted">@/components/auth~event:COMPONENT <strong>Auth</strong> mounted</a></li><li><a href="module-@_components_balance_buyCredits-dropdown-widget.html#~event:COMPONENT%253Cstrong%253EBuyCredits-dropdown-widget%253C/strong%253Emounted">@/components/balance/buyCredits-dropdown-widget~event:COMPONENT <strong>BuyCredits-dropdown-widget</strong> mounted</a></li><li><a href="module-@_components_banners_banner-full-width.html#~event:COMPONENT%253Cstrong%253EBanner-full-width%253C/strong%253Emounted">@/components/banners/banner-full-width~event:COMPONENT <strong>Banner-full-width</strong> mounted</a></li><li><a href="module-@_components_banners_banner-mini-widget.html#~event:COMPONENT%253Cstrong%253EBanner-mini-widget%253C/strong%253Emounted">@/components/banners/banner-mini-widget~event:COMPONENT <strong>Banner-mini-widget</strong> mounted</a></li><li><a href="module-@_components_cases_case-1.html#~event:COMPONENT%253Cstrong%253ECase-1%253C/strong%253Emounted">@/components/cases/case-1~event:COMPONENT <strong>Case-1</strong> mounted</a></li><li><a href="module-@_components_cases_case-3.html#~event:COMPONENT%253Cstrong%253ECase-3(chatcontainer)%253C/strong%253Emounted">@/components/cases/case-3~event:COMPONENT <strong>Case-3 (chat container)</strong> mounted</a></li><li><a href="module-@_components_common_header-menu.html#~event:COMPONENT%253Cstrong%253EHeader-menu%253C/strong%253Emounted">@/components/common/header-menu~event:COMPONENT <strong>Header-menu</strong> mounted</a></li><li><a href="module-@_components_common_header-search-line.html#~event:COMPONENT%253Cstrong%253EHeader-search-line%253C/strong%253Emounted">@/components/common/header-search-line~event:COMPONENT <strong>Header-search-line</strong> mounted</a></li><li><a href="module-@_components_profile_profile-balance-widget.html#~event:COMPONENT%253Cstrong%253EProfile-balance-widget%253C/strong%253Emounted">@/components/profile/profile-balance-widget~event:COMPONENT <strong>Profile-balance-widget</strong> mounted</a></li><li><a href="module-@_components_profile_profile-gallery-widget.html#~event:COMPONENT%253Cstrong%253EProfile-gallery-widget%253C/strong%253Emounted">@/components/profile/profile-gallery-widget~event:COMPONENT <strong>Profile-gallery-widget</strong> mounted</a></li><li><a href="module-@_components_profile_profile-mini.html#~event:COMPONENT%253Cstrong%253EProfile-mini%253C/strong%253Emounted">@/components/profile/profile-mini~event:COMPONENT <strong>Profile-mini</strong> mounted</a></li><li><a href="module-@_components_profile_profile-notify-widget.html#~event:COMPONENT%253Cstrong%253EProfile-notify-widget%253C/strong%253Emounted">@/components/profile/profile-notify-widget~event:COMPONENT <strong>Profile-notify-widget</strong> mounted</a></li><li><a href="module-@_components_profile_profile-rating-widget.html#~event:COMPONENT%253Cstrong%253EProfile-rating-widget%253C/strong%253Emounted">@/components/profile/profile-rating-widget~event:COMPONENT <strong>Profile-rating-widget</strong> mounted</a></li><li><a href="module-@_components_profile_profile-rating-widget.html#~event:COMPONENT%253Cstrong%253EProfile-rating-widget%253C/strong%253Ewatch">@/components/profile/profile-rating-widget~event:COMPONENT <strong>Profile-rating-widget</strong> watch</a></li><li><a href="module-@_components_profile_profile-support-widget.html#~event:COMPONENT%253Cstrong%253EProfile-support-widget%253C/strong%253Emounted">@/components/profile/profile-support-widget~event:COMPONENT <strong>Profile-support-widget</strong> mounted</a></li><li><a href="module-@_components_profile_profile-system-line-widget.html#~event:COMPONENT%253Cstrong%253EProfile-system-line-widget%253C/strong%253Emounted">@/components/profile/profile-system-line-widget~event:COMPONENT <strong>Profile-system-line-widget</strong> mounted</a></li><li><a href="module-@_components_users_users-gallery-mini-widget.html#~event:COMPONENT%253Cstrong%253EUsers-gallery-mini-widget%253C/strong%253Emounted">@/components/users/users-gallery-mini-widget~event:COMPONENT <strong>Users-gallery-mini-widget</strong> mounted</a></li><li><a href="module-@_layouts_default.html#~event:LAYOUT%253Cstrong%253EDefault%253C/strong%253Emounted">@/layouts/default~event:LAYOUT <strong>Default</strong> mounted</a></li><li><a href="module-@_pages_index.html#~event:PAGE%253Cstrong%253EIndex%253C/strong%253Emounted">@/pages/index~event:PAGE <strong>Index</strong> mounted</a></li><li><a href="module-@_pages_logout.html#~event:PAGE%253Cstrong%253ELogout%253C/strong%253EbeforeCreate">@/pages/logout~event:PAGE <strong>Logout</strong> beforeCreate</a></li><li><a href="module--_components_cases_case-2.html#~event:COMPONENT%253Cstrong%253ECase-2%253C/strong%253Emounted">~/components/cases/case-2~event:COMPONENT <strong>Case-2</strong> mounted</a></li><li><a href="module--_components_chat_chat-footer.html#~event:COMPONENT%253Cstrong%253EChatfooter%253C/strong%253Emounted">~/components/chat/chat-footer~event:COMPONENT <strong>Chat footer</strong> mounted</a></li><li><a href="module--_components_chat_chat-header.html#~event:COMPONENT%253Cstrong%253EChatheader(userinfo)%253C/strong%253Emounted">~/components/chat/chat-header~event:COMPONENT <strong>Chat header (user info)</strong> mounted</a></li><li><a href="module--_components_chat_chat-messages.html#~event:COMPONENT%253Cstrong%253EChatmessages%253C/strong%253Emounted">~/components/chat/chat-messages~event:COMPONENT <strong>Chat messages</strong> mounted</a></li><li><a href="module--_components_users_users-addToList-widget.html#~event:COMPONENT%253Cstrong%253EComponentUsersAddtolist%253C/strong%253Emounted">~/components/users/users-addToList-widget~event:COMPONENT <strong>Component Users Add to list</strong> mounted</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-components_auth_script.js.html">components_auth_script.js</a></li><li><a href="tutorial-components_balance_buyCredits-dropdown-widget_script.js.html">components_balance_buyCredits-dropdown-widget_script.js</a></li><li><a href="tutorial-components_banners_banner-full-width_script.js.html">components_banners_banner-full-width_script.js</a></li><li><a href="tutorial-components_banners_banner-mini-widget_script.js.html">components_banners_banner-mini-widget_script.js</a></li><li><a href="tutorial-components_cases_case-1_script.js.html">components_cases_case-1_script.js</a></li><li><a href="tutorial-components_cases_case-2_script.js.html">components_cases_case-2_script.js</a></li><li><a href="tutorial-components_cases_case-3_script.js.html">components_cases_case-3_script.js</a></li><li><a href="tutorial-components_chat_chat-footer_script.js.html">components_chat_chat-footer_script.js</a></li><li><a href="tutorial-components_chat_chat-header_script.js.html">components_chat_chat-header_script.js</a></li><li><a href="tutorial-components_chat_chat-messages_script.js.html">components_chat_chat-messages_script.js</a></li><li><a href="tutorial-components_common_header-menu_script.js.html">components_common_header-menu_script.js</a></li><li><a href="tutorial-components_common_header-search-line_script.js.html">components_common_header-search-line_script.js</a></li><li><a href="tutorial-components_profile_profile-balance-widget_script.js.html">components_profile_profile-balance-widget_script.js</a></li><li><a href="tutorial-components_profile_profile-gallery-widget_script.js.html">components_profile_profile-gallery-widget_script.js</a></li><li><a href="tutorial-components_profile_profile-mini_script.js.html">components_profile_profile-mini_script.js</a></li><li><a href="tutorial-components_profile_profile-notify-widget_script.js.html">components_profile_profile-notify-widget_script.js</a></li><li><a href="tutorial-components_profile_profile-rating-widget_script.js.html">components_profile_profile-rating-widget_script.js</a></li><li><a href="tutorial-components_profile_profile-support-widget_script.js.html">components_profile_profile-support-widget_script.js</a></li><li><a href="tutorial-components_profile_profile-system-line-widget_script.js.html">components_profile_profile-system-line-widget_script.js</a></li><li><a href="tutorial-components_users_users-addToList-widget_script.js.html">components_users_users-addToList-widget_script.js</a></li><li><a href="tutorial-components_users_users-gallery-mini-widget_script.js.html">components_users_users-gallery-mini-widget_script.js</a></li><li><a href="tutorial-index_.html">index</a></li><li><a href="tutorial-layouts_default_default.js.html">layouts_default_default.js</a></li><li><a href="tutorial-module-%E2%AD%90Store.html">module-%E2%AD%90Store</a></li><li><a href="tutorial-module-@_components_auth_.html">module-@_components_auth</a></li><li><a href="tutorial-module-@_components_balance_buyCredits-dropdown-widget_.html">module-@_components_balance_buyCredits-dropdown-widget</a></li><li><a href="tutorial-module-@_components_banners_banner-full-width_.html">module-@_components_banners_banner-full-width</a></li><li><a href="tutorial-module-@_components_banners_banner-mini-widget_.html">module-@_components_banners_banner-mini-widget</a></li><li><a href="tutorial-module-@_components_cases_case-1_.html">module-@_components_cases_case-1</a></li><li><a href="tutorial-module-@_components_cases_case-2_.html">module-@_components_cases_case-2</a></li><li><a href="tutorial-module-@_components_cases_case-3_.html">module-@_components_cases_case-3</a></li><li><a href="tutorial-module-@_components_chat_chat-footer_.html">module-@_components_chat_chat-footer</a></li><li><a href="tutorial-module-@_components_chat_chat-header_.html">module-@_components_chat_chat-header</a></li><li><a href="tutorial-module-@_components_chat_chat-messages_.html">module-@_components_chat_chat-messages</a></li><li><a href="tutorial-module-@_components_common_header-menu_.html">module-@_components_common_header-menu</a></li><li><a href="tutorial-module-@_components_common_header-search-line_.html">module-@_components_common_header-search-line</a></li><li><a href="tutorial-module-@_components_profile_profile-balance-widget_.html">module-@_components_profile_profile-balance-widget</a></li><li><a href="tutorial-module-@_components_profile_profile-gallery-widget_.html">module-@_components_profile_profile-gallery-widget</a></li><li><a href="tutorial-module-@_components_profile_profile-mini_.html">module-@_components_profile_profile-mini</a></li><li><a href="tutorial-module-@_components_profile_profile-notify-widget_.html">module-@_components_profile_profile-notify-widget</a></li><li><a href="tutorial-module-@_components_profile_profile-rating-widget_.html">module-@_components_profile_profile-rating-widget</a></li><li><a href="tutorial-module-@_components_profile_profile-support-widget_.html">module-@_components_profile_profile-support-widget</a></li><li><a href="tutorial-module-@_components_profile_profile-system-line-widget_.html">module-@_components_profile_profile-system-line-widget</a></li><li><a href="tutorial-module-@_components_users_users-addToList-widget_.html">module-@_components_users_users-addToList-widget</a></li><li><a href="tutorial-module-@_components_users_users-gallery-mini-widget_.html">module-@_components_users_users-gallery-mini-widget</a></li><li><a href="tutorial-module-@_layouts_default_.html">module-@_layouts_default</a></li><li><a href="tutorial-module-@_pages_index_.html">module-@_pages_index</a></li><li><a href="tutorial-module-@_pages_logout_.html">module-@_pages_logout</a></li><li><a href="tutorial-module-@_store_chat-%E2%AD%90Store-chat%E2%96%B8state.html">module-@_store_chat-%E2%AD%90Store-chat%E2%96%B8state</a></li><li><a href="tutorial-module-@_store_chat_.html">module-@_store_chat</a></li><li><a href="tutorial-module-@_store_site-%E2%AD%90Store-site%E2%96%B8state.html">module-@_store_site-%E2%AD%90Store-site%E2%96%B8state</a></li><li><a href="tutorial-module-@_store_site_.html">module-@_store_site</a></li><li><a href="tutorial-module-Plugin_log_.html">module-Plugin_log</a></li><li><a href="tutorial-module-Plugin_swiper_.html">module-Plugin_swiper</a></li><li><a href="tutorial-modules.list_.html">modules.list</a></li><li><a href="tutorial-namespaces.list_.html">namespaces.list</a></li><li><a href="tutorial-pages_index_script.js.html">pages_index_script.js</a></li><li><a href="tutorial-pages_logout_script.js.html">pages_logout_script.js</a></li><li><a href="tutorial-plugins_log.js.html">plugins_log.js</a></li><li><a href="tutorial-plugins_swiper.js.html">plugins_swiper.js</a></li><li><a href="tutorial-quicksearch.html">quicksearch</a></li><li><a href="tutorial-store_chat.js.html">store_chat.js</a></li><li><a href="tutorial-store_index.js.html">store_index.js</a></li><li><a href="tutorial-store_site.js.html">store_site.js</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-12">
	
		<div id="main">
			

		<h1 class="page-title">Source: store/chat.js</h1>
    
<section>
    <article>
        <pre
            class="sunlight-highlight-javascript linenums">/**
*   @version 1.0 beta
*   @module @/store/chat
*   @desc &lt;strong>Store Chat&lt;/strong> - хранилище данных чата
*   @see ~/store/chat
*
*   @author Pavel Uhrynovych (front-end developer of VC)
*   @copyright 2018©victoriyaclub.com
*/

import Vue from 'vue'
// ------------------- Для демо версии (история активного чата) ---------------
import ChatHistory from '@/static/tmp/chat/chat_history.js'
// ----------------------------------------------------------------------------

const Chat = {
	namespaced: true,
	state: {
		/**
		* @namespace ⭐Store-chat▸state
		*   @property {object|null} users - объект активных пользователей (с которыми открыто окно чата на данный момент)
		*   	@property {object} users.id - ключем объекта является ID профиля, с которым ведется чат
		*   		@property {int} users.id.id - ID профиля
		*   		@property {string} users.id.name - имя пользователя
		*   		@property {string} users.id.avatar - ссылка на аватар профиля
		*   		@property {string} users.id.status - текстовый статус профиля
		*   		@property {boolean} users.id.new - лейбл "новый пользователь"
		*   		@property {int} users.id.progress - прогресс заполненности профиля
		*   		@property {string} users.id.rating - рейтинг профиля
		*   		@property {boolean} users.id.webcam - статус наличия web-камеры профиля
		*   		@property {boolean} users.id.webcamActive - статус активности web-камеры профиля
		*   		@property {string} users.id.noteText - заметка к текущему профилю
		*
		*   @property {object} usersChat - объект таймеров активных текстовых чатов
		*   	@property {object} usersChat.id - ключем объекта является ID профиля, с которым ведется чат
		*   		@property {object} usersChat.id.time - время чата в секундах
		*
		*   @property {object} usersVideoChat - объект таймеров активных видео чатов
		*   	@property {object} usersVideoChat.id - время чата в секундах (ключем объекта является ID профиля, с которым ведется чат)
		*
		*   @property {object|null} currentUser - объект профиля окно чата которого открыто на данный момент
		*		@property {int} users.id - ID профиля
		*   	@property {string} users.name - имя пользователя
		*   	@property {string} users.avatar - ссылка на аватар профиля
		*   	@property {string} users.status - текстовый статус профиля
		*   	@property {boolean} users.new - лейбл "новый пользователь"
		*   	@property {int} users.progress - прогресс заполненности профиля
		*   	@property {string} users.rating - рейтинг профиля
		*   	@property {boolean} users.webcam - статус наличия web-камеры профиля
		*   	@property {boolean} users.webcamActive - статус активности web-камеры профиля
		*   	@property {string} users.noteText - заметка к текущему профилю
		*   	@property {int} users.videoChatTimer - время видео чата в секундах
		*   	@property {int} users.itemChat - время текстового чата в секундах
		*
		*  @property {object|null} chatHistory - объект историй чатов
		*  (_переменная наполняется/дополняется каждый раз, когда пользователь открывает новое окно чата с другим пользователем;
		*  история чатов дополняется в соответствующий объект, принимая новые сообщения из соккета, пользователю отображается контент из данной перемнной хранилища_)
		*		@property {array} chatHistory.id - ключем объекта является ID профиля, с которым был/идет чат
		*   		@property {int} chatHistory.id.id - ID кем было написано сообщение
		*   		@property {string} chatHistory.id.time - время, когда было написано сообщение
		*   		@property {string} chatHistory.id.mess - текст сообщения
		*   		@property {boolean} chatHistory.id.is_read - статус сообщения (прочитано/не прочитано)
		*/
		users: {
			123456: {
				id: 123456,			
				name: 'Annushka Rozhnova',
				avatar: require('@/assets/images/source/chat/avatar.jpg'),
				status: '😇 I’m happy',
				new: true,
				progress: 60,
				rating: '9/10',
				webcam: true,
				webcamActive: true,
				noteText: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.'
			}
		},
		usersChat: {},
		usersVideoChat: {
			123456: 740,
		},
		currentUser: null,
		chatHistory: {
			123456: ChatHistory
		}
	},
	getters: {
		/**
		* @desc &lt;strong style="color:red; font-size: 18px;">ⓘ (Getter)&lt;/strong>
		* Возвращает ID пользователя, с которым открыто окно чата (если переменная **currentUser** заполнена);
		* иначе - **false**.
		* 	@param state {object} - объект state текущего хранилища (**store chat**)
		*	@method CURRENT_USER_ID
		**/
		CURRENT_USER_ID: state => {
			if(state.currentUser &amp;&amp; state.currentUser.id){
				Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> getter init - current user ID');
				return state.currentUser.id
			} else return false
		},

		/**
		* @desc &lt;strong style="color:red; font-size: 18px;">ⓘ (Getter)&lt;/strong>
		* Возвращает историю чата с пользователем, которым открыто окно чата (если переменные **currentUser** и **chatHistory** заполнены);
		* иначе - **false**.
		* 	@param state {object} - объект state текущего хранилища (**store chat**)
		*	@method CURRENT_USER_CHAT
		**/
		CURRENT_USER_CHAT: state => {
			if(state.currentUser &amp;&amp; state.chatHistory){
				Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> getter init - current user chat');
				return state.chatHistory[state.currentUser.id]
			} else return false
		},

		/**
		* @desc &lt;strong style="color:red; font-size: 18px;">ⓘ (Getter)&lt;/strong>
		* Возвращает время таймера видео чата с пользователем, если чат активен;
		* иначе - **false**.
		* 	@param state {object} - объект state текущего хранилища (**store chat**)
		*	@method TIMER_VIDEO_CHAT
		**/
		TIMER_VIDEO_CHAT: state => {
			if(state.currentUser &amp;&amp; state.currentUser.videoChatTimer){
				Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> getter init - current videochat timer');
				return state.usersVideoChat[state.currentUser.id]
			} else return false
		},

		/**
		* @desc &lt;strong style="color:red; font-size: 18px;">ⓘ (Getter)&lt;/strong>
		* Возвращает время таймера текстового чата с пользователем, если чат активен;
		* иначе - **false**.
		*	@param state {object} - объект state текущего хранилища (**store chat**)
		*	@method TIMER_TEXT_CHAT
		**/
		TIMER_TEXT_CHAT: state => {
			if(state.currentUser &amp;&amp; state.currentUser.textChatTimer){
				Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> getter init - current chat timer');
				
				return state.usersChat[state.currentUser.id]
			} else return false
		}
	},
	mutations: {
		/**
		* 	@desc &lt;strong style="color:red; font-size: 18px;">ⓘ (Mutations)&lt;/strong> 
		*	Устанавливаем значение переменной **currentUser** - объект профиля, диалог с которым нужно открыть
		*	
		*	@param state {object} - объект state текущего хранилища (**store chat**)
		*	@param data {object} - объект профиля, диалог с которым нужно открыть
		*	@method setCurrent
		**/
		setCurrent(state, data){
			Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> mutation init - set state \'currentUser\'');
			
			state.currentUser = data
		},

		/**
		* 	@desc &lt;strong style="color:red; font-size: 18px;">ⓘ (Mutations)&lt;/strong>
		* 	Очищаем переменную **currentUser**
		*
		*	@property {int} resetId - id профиля, диалог с которым открыт на данный момент
		*
		*	@param state {object} - объект state текущего хранилища (**store chat**)
		*	@method resetCurrent
		**/
		resetCurrent(state){
			if(state.currentUser){
				Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> mutation init - reset state \'currentUser\'');
				
				// Определяем id профиля
				var resetId = state.currentUser.id
				
				// Удаляем данные таймеров из объекта users у профиля c таким ID 
				delete state.users[resetId].videoChatTimer
				delete state.users[resetId].textChatTimer
				
				// Очищаем переменную state.currentUser
				state.currentUser = null
			}else {
				Vue.$log.warn('ⓘ Store Chat \'@/store/chat\' -> mutation init - reset state \'currentUser\' - state is not found or is empty!');
				return false
			}
		},

		/**
		* 	@desc &lt;strong style="color:red; font-size: 18px;">ⓘ (Mutations)&lt;/strong> 
		*	Начинает просмотр камеры другого пользователя
		*	
		*	@param state {object} - объект state текущего хранилища (**store chat**)
		*	@param id {object} - id пользователя, просмотр камеры которого нужно начать
		*	@method webcamStart
		**/
		webcamStart(state, id){
			Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> mutation init - user webCam start');
			
			state.users[id].webcamActive = true
		},

		/**
		* 	@desc &lt;strong style="color:red; font-size: 18px;">ⓘ (Mutations)&lt;/strong> 
		*	Завершает просмотр камеры другого пользователя
		*	
		*	@param state {object} - объект state текущего хранилища (**store chat**)
		*	@param id {object} - id пользователя, просмотр камеры которого нужно завершить
		*	@method webcamStop
		**/
		webcamStop(state, id){
			Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> mutation init - user webCam stop');

			state.users[id].webcamActive = false
		}
	},
	actions: {
		/**
		* @desc &lt;strong style="color:red; font-size: 18px;">ⓘ (Actions)&lt;/strong> 
		* Устанавливаем значение переменной **currentUser** - объект профиля, диалог с которым нужно открыть
		* 1. Очищаем переменную currentUser, если она не была пустой
		* 2. Если такой ID был найден в объекте **state.users** (_если был ранее открыт чат с этим ID_)
		* 	2.1. Заполняем локальную переменную **data** (_готовим данные к отправке в мутацию_ **setCurrent**)
		*	2.2. Устанавливаем значения true в локальной переменной **data**, если чаты запущены
		*	2.3. Вызываем мутацию **setCurrent**, передаем локалькую переменную **data**
		* 4. Если чат с таким ID ранее не был добавлен в объект **state.users**
		*	
		* @param state {object} - объект state текущего хранилища (**store chat**)
		* @param commit {objext} - объект mutations текущего хранилища (**store chat**)
		* @param id {int} - id пользователя, с которым нужно открыть чат
		* @method currentActive
		**/
		currentActive({state, commit}, id){
			if(id){
				Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> action init - set state \'currentUser\'');
				
				// 1. Очищаем переменную currentUser, если она не была пустой
				if(state.currentUser) commit('resetCurrent')

				// 2. Если такой ID был найден в объекте users (если был ранее открыт чат с этим ID)
				if(state.users[id] !== undefined){
					Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> action init - set state \'currentUser\' -> user (ID ' + id + ') is found in the state \'users\'');
					
					var data = {}
					// 2.1. Заполняем переменную data (готовим данные к отправке в мутацию setCurrent)
					data = state.users[id]
					data.videoChatTimer = false
					data.textChatTimer = false
					
					// 2.2. Устанавливаем значения true в переменной data, если чаты запущены
					if(state.usersVideoChat[id] !== undefined) data.videoChatTimer = true
					if(state.usersChat[id] !== undefined) data.textChatTimer = true

					// 2.3. Вызываем мутацию setCurrent, передаем переменную data
					commit('setCurrent', data)
				}
				// 4. Если чат с таким ID ранее не был добавлен в объект users
				else{
					Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> action init - set state \'currentUser\' -> user (ID ' + id + ') is not found in the state \'users\'');
					
					return false
				}
			}else return console.error('%c Store-> module Chat-> actions-> currentActive(id): ', 'background: #222; color: #bada55', ' Необходимо передать аргумент - id пользователя!')
		},

		/**
		* @desc &lt;strong style="color:red; font-size: 18px;">ⓘ (Actions)&lt;/strong> 
		* Событие включения и отключения просмотра камеры собсеседника
		*	
		* @param state {object} - объект state текущего хранилища (**store chat**)
		* @param commit {objext} - объект mutations текущего хранилища (**store chat**)
		* @param id {int} - id пользователя, с которым нужно открыть чат
		* @method videoChatToggle
		**/
		videoChatToggle({state, commit}, id){
			if(id){
				Vue.$log.debug('ⓘ Store Chat \'@/store/chat\' -> action init - user webCam toggle');
				
				if(state.users[id].webcamActive) commit('webcamStop', id)
				else commit('webcamStart', id)
			}else return console.error('%c Store-> module Chat-> actions-> videoChatToggle(id): ', 'background: #222; color: #bada55', ' Необходимо передать аргумент - id пользователя!')
		}
	}
}

export default Chat</pre>
    </article>
</section>





		</div>
	</div>

	<div class="clearfix"></div>

	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">
	VictoriyaClub.com Copyright © 2016-2018
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
	
		on Mon Jul 9th 2018
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>
